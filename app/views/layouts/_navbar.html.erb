<% if controller_name==='pages' %>
    <header class="h-screen relative" style="background-image: url('<%= asset_path('sports-event-hero.png') %>');">
        <nav class="flex items-center justify-between py-3 md:py-5 px-3 md:px-7 border-b border-gray-400">
            <div class="flex items-center gap-3">
                <!-- <h3 class="text-white text-3xl font-bold">LOGO</h3> -->
                <%= image_tag("logo-no-background.png", class:'h-[60px] object-cover cursor-pointer') %>

                    <div class="relative">

                        <!-- Location Link -->
                        <div class="flex items-center gap-2 bg-white px-4 py-2 rounded hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                            </svg>
                            <button class="text-indigo-700 font-semibold">Choose Location</button>
                        </div>

                        <!-- Hide Locaiton List -->
                        <div class="hidden">
                            <div class="absolute top-[45px] bg-white left-0 p-4 rounded z-[1000]">
                                <input type="text" placeholder="Search Location"
                                    class="px-4 py-2 rounded border border-gray-200">
                                <ul class="list-none py-2 text-[14px]">
                                    <li class="py-4 border-b border-gray-100">
                                        <div class="flex items-center gap-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                                            </svg>
                                            <div>
                                                <strong>United Stats</strong>
                                                <span>California</span>
                                            </div>
                                        </div>
                                    </li>


                                    <li class="py-4 border-b border-gray-100">
                                        <div class="flex items-center gap-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                                            </svg>
                                            <div>
                                                <strong>United Stats</strong>
                                                <span>Florida</span>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
            </div>

            <ul class="hidden sm:flex gap-7 items-center"> <!-- Hide on small screens (mobile) -->
                <li><a href="/" class="text-white font-semibold uppercase">Home</a></li>
                <li><a href="/explore-events" class="text-white font-semibold uppercase">Explore Events</a></li>

                <!-- <li><a href="/users/sign_in" class="bg-white px-6 py-3 rounded text-indigo-700 font-semibold mx-5">Sign In</a></li> -->



                <% if current_user %>
                    <div>
                        <li class="flex gap-5 items-center">
                            <span class="text-white">
                                <%= current_user.email %>
                            </span>
                            <%= button_to "Log out" , destroy_user_session_path, method: :delete,
                                class: 'bg-white px-3 py-2 rounded text-indigo-700 font-semibold' %>
                        </li>

                        <!-- <li class="md:hidden">
                        <a href="/users/edit" class="">Settings</a>
                    </li> -->


                        <%else %>
                            <li><a href="/users/sign_in"
                                    class="bg-white px-6 py-3 rounded text-indigo-700 font-semibold mx-0">Sign In</a>
                            </li>

                            <li><a href="/users/sign_in"
                                    class="bg-indigo-700 px-6 py-3 rounded text-white font-semibold mx-2">Create
                                    Account</a></li>

                    </div>
                    <% end %>
            </ul>
            <% if current_user %>
                <div class="flex gap-4 items-center md:hidden">
                    <span class="text-white font-semibold">
                        <%= current_user.email %>
                    </span>
                    <%= button_to "Sign Out" , destroy_user_session_path, method: :delete,
                        class: 'bg-white py-2 px-4 rounded text-indigo-500' %>
                </div>
                <!-- Show on small screens (mobile) -->
                <%else %>
                    <div class="flex gap-2 md:hidden">
                        <a href="/users/sign_in"
                            class="block sm:hidden bg-white px-6 py-3 rounded text-indigo-700 font-semibold mx-0">Sign
                            In</a>

                        <a href="/users/sign_up"
                            class="block sm:hidden bg-indigo-700 px-6 py-3 rounded text-white font-semibold mx-3">Create
                            Account</a>
                    </div>
                    <!-- Show on small screens (mobile) -->
                    <% end %>
        </nav>

        <div class="container p-5 md:p-0 mx-auto absolute top-[10%] md:top-[40%] left-0 md:left-10">
            <h1 class=" text-4xl md:text-6xl font-extrabold text-white mb-7">
                <span class="block">Experience the Global</span>
                <span class="block">Sporting Spectacle</span>
            </h1>
            <div class="flex gap-5">
                <a href="/explore-events"
                    class="w-full text-[16px] md:w-auto text-center text-indigo-700 font-semibold bg-white rounded px-10 py-4 md:text-xl block md:inline-block">Explore
                    Events</a>
            </div>


            <div
                class="flex border-2 border-gray-100 md:border-0 items-center bg-white rounded-lg p-5 w-full md:w-[85%] mx-auto mt-10">
                <!-- Adjusted width to fit the screen -->
                <form action="" class="grid grid-cols-1 md:grid-cols-5 gap-5 w-full relative">
                    <!-- Adjusted grid layout for responsiveness -->

                    <div class="relative">
                        <input type="date"
                            class="border-l-0 border-t-0 md:border-b-0 border-r-0 md:border-r-2 border-gray-100 focus:ring-0 focus:ring-offset-0 focus:border-0 text-gray-500 w-full md:w-auto">
                    </div>

                    <div class="relative">
                        <input type="text" id="location" placeholder="Location"
                            class="border-l-0 border-t-0 md:border-b-0 border-r-0 border-gray-100 focus:ring-0 focus:ring-offset-0 focus:border-0 w-full md:border-r-2 focus:shadow-md p-3 rounded">
                        <div id="locationDropdown"
                            class="absolute z-10 bg-white border border-gray-300 rounded shadow-md hidden p-5 max-h-40 overflow-y-auto transition-opacity duration-500 w-full">
                            <!-- Dropdown menu will appear here -->
                        </div>
                    </div>

                    <div class="relative">
                        <input type="text" id="sport" placeholder="Type of sport"
                            class="border-l-0 border-t-0 md:border-b-0 border-r-0 border-gray-100 focus:ring-0 focus:ring-offset-0 focus:border-0 w-full md:border-r-2 focus:shadow-md">
                        <div id="sportDropdown"
                            class="absolute z-10 bg-white border border-gray-300 rounded shadow-md hidden p-5 max-h-40 overflow-y-auto transition-opacity duration-500 w-full">
                            <!-- Dropdown menu will appear here -->
                        </div>
                    </div>

                    <div class="relative">
                        <div class="">
                            <input type="text" id="name" placeholder="Name"
                                class="border-l-0 border-t-0 md:border-b-0 border-r-0 border-gray-100 focus:ring-0 focus:ring-offset-0 focus:border-0 w-full focus:shadow-md">

                            <!-- <svg  xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                                              </svg> -->

                        </div>
                        <div id="nameDropdown"
                            class="absolute z-10 bg-white border border-gray-200 mt-1 rounded shadow-md hidden p-5 max-h-40 overflow-y-auto transition-opacity duration-500 w-full">
                            <!-- Dropdown menu will appear here -->
                        </div>
                    </div>

                    <!-- Adjusted border direction and width -->
                    <div class="relative">
                        <button type="submit"
                            class="px-10 py-5 bg-indigo-700 text-white rounded-full font-semibold md:font-medium w-full focus:shadow-md">Search</button>
                    </div>
                </form>

            </div>
        </div>
    </header>
    <% else %>

        <nav class="flex items-center justify-between py-3 px-2 border-b border-gray-400 bg-black">
            <%= image_tag("logo-no-background.png", class:'h-[70px] object-cover cursor-pointer') %>


                <!-- Show on Desktop -->
                <ul class="sm:flex sm:items-center gap-7"> <!-- Hide on small screens (mobile) -->

                    <div class="hidden md:block">
                        <div class="sm:mx-5 flex gap-5">
                            <a href="/" class="text-white font-semibold uppercase">Home</a>
                            <a href="/explore-events" class="text-white font-semibold uppercase">Explore Events</a>
                        </div>
                    </div>

                    <% if current_user %>
                        <div class="flex items-center gap-2">
                            <a href="/users/edit" class="text-white font-semibold">
                                <%= current_user.email %>
                            </a>
                            <%= button_to "Sign out" , destroy_user_session_path, method: :delete,
                                class: 'bg-white text-indigo-700 py-2 px-2 rounded' %>
                        </div>


                        <%else %>
                            <div>
                                <a href="/users/sign_up" class="bg-white text-indigo-700 py-2 px-4 rounded">Create
                                    Account</a>

                                <a href="/users/sign_in" class="bg-white text-indigo-700 py-2 px-4 rounded">Sign In</a>
                            </div>
                            <% end %>


                </ul>



                <!-- Show on small screens (mobile) -->



        </nav>
        <% end %>



            <script>
                // JSON API for events



                (function () {
                    // JSON API for events
                    const events = {
                        "events": [
                            {
                                "date": "7. apríl",
                                "name": "ČSOB Bratislava Marathon",
                                "sport": "beh",
                                "location": "Bratislava"
                            },
                            {
                                "date": "21. apríl",
                                "name": "Národný beh Devín",
                                "sport": "beh",
                                "location": "Bratislava"
                            },
                            {
                                "date": "9. jún",
                                "name": "Maratón Banská Bystrica",
                                "sport": "beh",
                                "location": "Banská Bystrica"
                            },
                            {
                                "date": "9. jún",
                                "name": "Bratislava Open 2024",
                                "sport": "tenis",
                                "location": "Bratislava"
                            },
                            {
                                "date": "26.jún",
                                "name": "Okolo Slovenska 2024",
                                "sport": "cyklistika",
                                "location": "Dunajska streda"
                            },
                            {
                                "date": "27. jún",
                                "name": "Okolo Slovenska 2024",
                                "sport": "cyklistika",
                                "location": "Nitra"
                            },
                            {
                                "date": "28. jún",
                                "name": "Okolo Slovenska 2024",
                                "sport": "cyklistika",
                                "location": "Topolčany"
                            },
                            {
                                "date": "29. jún",
                                "name": "Okolo Slovenska 2024",
                                "sport": "cyklistika",
                                "location": "Liptovsky Mikulas"
                            },
                            {
                                "date": "4. júl",
                                "name": "MS juniorov v hokejbale",
                                "sport": "hokejbal",
                                "location": "Žiline"
                            },
                            {
                                "date": "6. október",
                                "name": "Medzinárodný maratón mieru Košice",
                                "sport": "beh",
                                "location": "Košice"
                            },
                            {
                                "date": "8. október",
                                "name": "Slovak Open 2024",
                                "sport": "tenis",
                                "location": "Bratislava"
                            },
                            {
                                "date": "19. október",
                                "name": "Rally Košice 2024",
                                "sport": "motošport",
                                "location": "Košice"
                            }
                        ]
                    };

                    // Function to create dropdown items
                    function createDropdownItems(data, inputFieldId) {
                        const inputField = document.getElementById(inputFieldId);
                        const dropdown = document.getElementById(inputFieldId + "Dropdown");
                        dropdown.innerHTML = "";
                        if (data.length === 0) {
                            const noResultItem = document.createElement("div");
                            noResultItem.textContent = "Not Found";
                            dropdown.appendChild(noResultItem);
                        } else {
                            data.forEach(item => {
                                const option = document.createElement("div");
                                option.textContent = item;
                                option.classList.add("cursor-pointer", "p-4", "hover:bg-gray-100", "border-b", "rounded");
                                option.addEventListener("click", () => {
                                    inputField.value = item;
                                    dropdown.classList.add("hidden");
                                });
                                dropdown.appendChild(option);
                            });
                        }
                        dropdown.classList.toggle("hidden", data.length === 0);
                    }

                    // Event listener for input in location field
                    document.getElementById("location").addEventListener("input", () => {
                        const locationInput = document.getElementById("location");
                        const dropdown = document.getElementById("locationDropdown");
                        dropdown.innerHTML = "Fetching Data...";
                        setTimeout(() => {
                            const filteredEvents = events.events.filter(event => event.location.toLowerCase().includes(locationInput.value.toLowerCase()));
                            const locations = [...new Set(filteredEvents.map(event => event.location))];
                            createDropdownItems(locations, "location");
                        });
                    });

                    // Event listener for input in sport field
                    document.getElementById("sport").addEventListener("input", () => {
                        const sportInput = document.getElementById("sport");
                        const dropdown = document.getElementById("sportDropdown");
                        dropdown.innerHTML = "Fetching Data...";
                        setTimeout(() => {
                            const filteredEvents = events.events.filter(event => event.sport.toLowerCase().includes(sportInput.value.toLowerCase()));
                            const sports = [...new Set(filteredEvents.map(event => event.sport))];
                            createDropdownItems(sports, "sport");
                        });
                    });

                    // Event listener for input in name field
                    document.getElementById("name").addEventListener("input", () => {
                        const nameInput = document.getElementById("name");
                        const dropdown = document.getElementById("nameDropdown");
                        dropdown.innerHTML = "Fetching Data...";
                        setTimeout(() => {
                            const filteredNames = events.events.map(event => event.name).filter(name => name.toLowerCase().includes(nameInput.value.toLowerCase()));
                            createDropdownItems(filteredNames, "name");
                        });
                    });

                    // Smooth transition and hover effect for each dropdown
                    const dropdownInputs = document.querySelectorAll('.relative input[type="text"]');
                    dropdownInputs.forEach(input => {
                        input.addEventListener('focus', function () {
                            const dropdown = this.nextElementSibling;
                            if (this.value.trim() !== "") {
                                dropdown.classList.remove('hidden');
                                dropdown.classList.add('opacity-100');
                            }
                        });
                        input.addEventListener('blur', function () {
                            const dropdown = this.nextElementSibling;
                            dropdown.classList.remove('opacity-100');
                            setTimeout(() => {
                                dropdown.classList.add('hidden');
                            }, 300);
                        });
                    });
                })();
            </script>